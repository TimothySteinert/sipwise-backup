# ==========================================================
# Sipwise Backup â€“ Configuration
# ==========================================================

# Instance type: master | dr
instance_type: master
server_name: sipwise-server-01

# ----------------------------------------------------------
# MySQL Settings
# ----------------------------------------------------------
mysql:
  user: root
  password: changeme

# ----------------------------------------------------------
# Storage Settings
# ----------------------------------------------------------
storage:
  type: local  # local | remote

  local:
    directory: /opt/sipwise-backup/backups

  remote:
    hostname: ftp.example.com
    port: 21
    directory: /backups/sipwise
    username: backupuser
    password: changeme

# ----------------------------------------------------------
# Backup Settings (Master only)
# ----------------------------------------------------------
backup:
  automatic:
    enabled: true
    frequency:
      value: 1
      unit: hours  # minutes | hours

  retention:
    days: 30

  cleanup:
    enabled: true
    mode: last_per_day  # keeps only the last backup per calendar day

# ----------------------------------------------------------
# Reboot Settings
# ----------------------------------------------------------
reboot:
  automatic: disabled  # enabled | disabled
  schedule:
    day_of_month: 1
    time: "03:00"  # 24-hour format HH:MM

# ----------------------------------------------------------
# Sipwise Configuration Line Numbers
# ----------------------------------------------------------
# These line numbers reference specific settings in Sipwise config files
# Update these if Sipwise changes their configuration structure
sipwise:
  constants_yml:
    sql_encryption_key_line: 293  # Line number for SQL encryption key in /etc/ngcp-config/constants.yml
  config_yml:
    firewall_enable_line: 1568    # Line number for firewall enable in /etc/ngcp-config/config.yml
